extends ../layout/common

block content
        .row
            each product in products
                .col-sm-6.col-md-4.col-lg-3
                    .card.mb-3(style='width: 18rem;')
                        img.card-img-top(src= product.image , alt='product_img')
                        .card-body
                            h5.card-title= product.name
                            p.card-text=  product.description
                            a.btn.btn-primary(href='/cart/add/' + product.id) Add to Cart
        
        //- nav(aria-label='Page navigation example')
            ul.pagination.justify-content-center
                if(current_page == 1)
                    li.page-item.disabled
                        a.page-link(href='/product?page=1', tabindex='-1', aria-disabled='true') Previous
                else
                    - var back_page = parseInt(current_page)-1;
                    li.page-item
                        a.page-link(href=href='/product?page='+(back_page)) Previous
                - var n =1;
                    while (n < (numpage+1))
                        if (n == current_page) 
                            li.page-item.active(aria-current='page')
                                a.page-link(href=href='/product?page='+n)=n++
                                    span.sr-only (current)
                        else
                            li.page-item
                                    a.page-link(href='/product?page='+n)= n++
                if( current_page == numpage)
                    li.page-item.disabled
                        a.page-link(href='/product?page=1', tabindex='-1', aria-disabled='true') Next
                else
                    - var next_page = parseInt(current_page)+1;
                    li.page-item
                        a.page-link(href=href='/product?page='+(next_page)) Next
                

